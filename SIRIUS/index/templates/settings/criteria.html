{% extends 'index/barMenu.html' %}
{% load static %}
{% load addcssclass %}


{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'interface/css/settings.css' %}">

<!-- En caso de que se este editando una sub-heuristica cargo el modal automaticamente -->
{% if editing %}
		{% include 'modals/meta_criteria_modal.html' %}
		<script>$('#meta_criteria_modal').modal('show')</script>
{% endif %}

<div class="col-md-12">
	<div class="page-header">
	  <h1><small> Configuración de</small> Sub-Heuristicas</h1>
	</div>
	
</div> <!-- col md 12-->
<div class="col-md-12">
	<div class="row">
		<div class="col-md-2">
		</div>	
		<div class="col-md-8">
		    <div class="well well-lg">
				
				<!-- Con esto cargo el html del modal -->
				{% include 'modals/meta_criteria_modal.html' %}
				<!-- Con este boton se activa el modal -->
				<button type="button" class="btn azul espacio-izq" data-toggle="modal" data-target="#meta_criteria_modal"> Agregar <span class="glyphicon glyphicon-plus"></span></button>
				
			</div> <!-- well  -->		        			
		</div><!-- col-md-8 -->	
		<div class="col-md-2">
		</div>	
	</div> <!-- row-->
	<div class="row">
		<!-- Filtrador de sub-heuristicas -->
		<div class="col-md-12" style="margin-top: 70px;">
			<form class="form-horizontal" action="" method="post">
				{% csrf_token %}
				<div class="form-group">
					<label for="{{filter_form.heuristic.name}}" class="col-sm-3 control-label">{{filter_form.heuristic.label}}</label>
					<div class="col-sm-6">
						{{filter_form.heuristic|addcssclass:"form-control"}}
					</div>
					<div class="col-sm-3">
							<button type="submit" class="btn azul" name="filter_form">Filtrar <span class="glyphicon glyphicon-search"></span></button>
					</div>
				</div>
				<div class="form-group">
						
				</div>
			</form>
		</div><!-- Filtrador -->
	</div>
	<div class="row">
		<div class="col-md-12">
			<table class="table table-hover ">
			    <thead>
			      <tr class="" style="background-color: #3f9db6;color:white;">
			        <th style="text-align: center;">Heuristica</th>
			        <th style="text-align: center;">Nombre</th>
			        <th style="text-align: center;">Acrónimo</th>
			        <th style="text-align: center;">Metrica</th>
			        <th style="text-align: center;">Atributo</th>
			        <th style="text-align: center;">Modificar</th>
			        <th style="text-align: center;">Eliminar</th>
			      </tr>
			    </thead>
			    <tbody>
			    {% for criterion in criteria %}
			      <tr align="center">
			        <td>{{criterion.heuristic}}</td>
			        <td>{{criterion.name}}</td>
			        <td>{{criterion.acronym}}</td>
			        <td>{{criterion.metric}}</td>
			        <td>{{criterion.atribute}}</td>
			        <td><a href="{% url 'edit_meta_criterion' criterion.pk %}"><span class="glyphicon glyphicon-edit centro"></span></a></td>
			        <td><a href="{% url 'delete_meta_criterion' criterion.pk %}"><span class="glyphicon glyphicon-remove centro"></span></a></td>
			      </tr>
			    {% endfor %}
			    </tbody>
			  </table>
		</div><!-- col-->
		
	</div> <!--  row -->

</div> <!-- col md 12-->
<script>
$('#home').removeClass('active');
$('#s2').addClass('active');
$('#s1,#s2,#s3,#s4').show();

$('#setting').click(function(){
    $('#s1,#s2,#s3,#s4').toggle();
});
</script>
{% endblock %}
